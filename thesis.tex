\documentclass[a4paper, 12pt, abstract=on, bibliography=totoc]{scrreprt}

\newcommand*{\Title}{{A Novel Liquid Argon Time Projection Chamber Detector: The ArgonCube Concept}}
\newcommand*{\Author}{{Damian Goeldi}}
\newcommand*{\Supervisor}{{Prof.\ Dr.\ A.\ Ereditato}}
\newcommand*{\Dean}{{Prof.\ Dr.\ G.\ Colangelo}}
\newcommand*{\Date}{{20.04.2018}}

\usepackage{scrhack} % fix warnings due to packages using deprecated KOMA-Script commands

\usepackage[british]{babel} % set babel to british rather than american
\usepackage[utf8]{inputenc} % utf8 support in source code
\usepackage{lmodern} % better support for special characters in pdf
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{microtype} % optimise microtypography

\usepackage[autostyle]{csquotes} % recommended by biblatex
\usepackage{xpatch} % recommended by biblatex
\usepackage[backend=biber, giveninits, sorting=none, backref=true, style=numeric-comp]{biblatex} % much more flexible than BibTeX

\usepackage{fancyvrb} % advanced verbatim
\usepackage{mathtools} % math packages
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{physics}
\usepackage[version=4]{mhchem}
\usepackage{hepnames}
\usepackage[retainorgcmds]{IEEEtrantools} % advanced equation arrays
\usepackage[binary-units]{siunitx} % write units properly
\usepackage{tabu} % much better than tabular
\usepackage{booktabs} % fancy tables
\usepackage{listings} % list source code
\usepackage{chngcntr} % modify counter reset behaviour
\usepackage{pdfpages} % insert PDF pages
\usepackage{graphicx} % for graphics, breaks (e)ps support
\usepackage{xcolor} % colour
\usepackage{pdflscape} % landscape pages
\usepackage{feynmp-auto} % feyman graphs
\usepackage{romannum} % roman numbers
\usepackage{afterpage} % flush floats in a smarter way
\usepackage[above, below, section]{placeins} % provides FloatBarrier, option section puts one after each section
\usepackage{refcheck} % make sure all labels are referenced

%\setcounter{tocdepth}{1} % only 2 levels in ToC

\addbibresource{thesis.bib} % .bib file for biblatex (.bib is required)

\pagestyle{headings} % instead of fancyhdr which is not recommended with KOMA script classes

\VerbatimFootnotes % needed for verbatim in footnotes (obviously :)

\hyphenpenalty=1000 % de/increase some formatting penalties to get nicer result
\tolerance=5000 % tolerance for total badness without line break
\setlength{\parskip}{0pt plus 3pt} % add some "rubber" space between paragraphs to omit widows and orphans

\sisetup{separate-uncertainty=true, list-final-separator={, and }}
\DeclareSIUnit\clight{\text{\ensuremath{c}}} % remove 0 subscript from speed of light
\DeclareSIUnit\radlen{\text{\ensuremath{X_{\mathrm{0}}}}}

\newcommand*{\m}{\mathrm}
\newcommand*{\Chapter}{{chapter}} % used in starred chapters to store the chapter name to access it conveniently with all the commands needed there

\newcommand*{\AT}{{ARGONTUBE}}
\newcommand*{\AC}{{ArgonCube}}
\newcommand*{\AL}{\gls{arclight}}
\newcommand*{\dune}{\gls{dune}}
\newcommand*{\uboone}{\gls{uboone}}
\newcommand*{\sbnd}{\gls{sbnd}}
\newcommand*{\icarus}{\gls{icarus}}
\newcommand*{\lariat}{\gls{lariat}}
\newcommand*{\larpix}{\gls{larpix}}
\newcommand*{\pixlar}{{PixLAr}}
\newcommand*{\argoneut}{\gls{argoneut}}

\newcommand*{\lar}{\gls{lar}}
\newcommand*{\lartpc}{\gls{lartpc}}

\newcommand*{\nucleon}{\HepGenParticle{N}{}{}}
\newcommand*{\nucleus}{\HepGenParticle{A}{}{}}
\newcommand*{\particlea}{\HepGenParticle{A}{}{}}
\newcommand*{\particleb}{\HepGenParticle{B}{}{}}
\newcommand*{\particles}{\HepGenParticle{X}{}{}}
\newcommand*{\dcp}{\ensuremath{\delta_{\m{\glsentryshort{cp}}}}}
\newcommand*{\dms}{\ensuremath{\Delta m ^ 2}}

% draft configuration
\usepackage{ifdraft}
\ifoptionfinal{}{
	\usepackage{setspace} % make corrections easier
	\doublespacing
	\usepackage[pagewise]{lineno}
	\linenumbers
}
\usepackage[colorinlistoftodos, textsize=tiny, obeyFinal]{todonotes}
\newcommand*{\cjames}[2][]{\todo[author={JRS}, color=green, #1]{#2}}

\usepackage[pdftex, unicode, bookmarks, pdffitwindow, pdftitle={\Title}, pdfauthor={\Author}, colorlinks=false]{hyperref} % should be last command in preamble

% glossary, should come after hyperref
\ifoptionfinal{
	\usepackage[xindy, acronym, nomain, nonumberlist, nopostdot]{glossaries} % suppress page list if final
}{
	\usepackage[xindy, acronym, nomain]{glossaries}
}
\makeglossaries
\usepackage[xindy]{imakeidx}
\makeindex
\loadglsentries{content/thesis_glossary}


\begin{document}
	\graphicspath{{graphics/}}
	\glsunsetall % disable expansion of acrynoms
	
	\pagenumbering{roman}
	
	\input{content/thesis_title}
	\input{content/thesis_abstract}
	\input{content/thesis_preface}
	
	\listoftodos
	\tableofcontents
	\listoffigures
	\listoftables
	%\lstlistoflistings
	\printacronyms
	
	\clearpage % without this, previous page is already arabic; pay attention to twoside layout!
	\pagenumbering{arabic}
	
	\todo[inline, caption={Check preamble}]{Check preamble.
	In particular, putting hyperref to the end of the preample as suggested by ``The not so short introduction to \LaTeX{}'' produces warnings about duplicate footnote references.
	Could it also be caused by TODOs?}
	\todo[inline]{Replace backslash space after commands by braces}
	\todo[inline]{Optimise float placement, short captions for lists of floats}
	\todo[inline]{Add Ref./Reference in front of citations?}
	\todo[inline]{Check/redo all plots}
	\cjames{test}
	\cjames[inline]{inline test}
	
	\glsresetall % enable expansion of acronyms
	
	\input{content/thesis_introduction}
	\input{content/thesis_nu-detection}
	\input{content/thesis_lartpc}
	\input{content/thesis_hv}
	\input{content/thesis_charge-ro}
	\input{content/thesis_electronics}
	\input{content/thesis_light-ro}
	\input{content/thesis_viper}
	\input{content/thesis_argoncube}
	\input{content/thesis_dune-nd}
	\input{content/thesis_pile-up}
	\input{content/thesis_conclusion}
	%\input{content/thesis_acknowledgements}
	
	\printbibliography
	
	\appendix
	
	\input{content/thesis_appendix_pile-up-data}
	
	%\includepdf[pages={{},1}]{erklaerung}
\end{document}